[SERVICE]
     # See:
     # https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_firelens.html
     # https://github.com/aws-samples/amazon-ecs-firelens-under-the-hood/tree/master/generated-configs/fluent-bit
     Flush        10
     Grace        30
     Log_Level    info


[INPUT]
     Name        tcp
     Tag         CWL_TAG
     Listen      0.0.0.0
     Port        6270
     Format      json

[INPUT]
     Name        tcp
     Tag         S3_TAG
     Listen      0.0.0.0
     Port        6271
     Format      json



[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_0
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_1
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_2
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_3
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_4
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_5
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_6
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_7
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_8
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_9
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_10
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_11
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_12
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_13
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_14
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_15
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_16
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_17
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_18
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock


[OUTPUT]
     Name cloudwatch_logs
     Match CWL_TAG
     log_stream_prefix CWL_19
     log_group_name bravo-alpha-t4-r3-2fe899_${RANDOM_ID}
     auto_create_group true
     region us-west-2
     workers 1
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30
     tls.verify false
     port 4545
     endpoint mock




[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30


[OUTPUT]
     Name s3
     Match S3_TAG
     bucket aws-for-fluent-bit-stability-test-sink
     s3_key_format /bravo-alpha-t4/r3-2fe899/${RANDOM_ID}/%Y-%m-%d
     total_file_size 1M
     upload_timeout 5m
     use_put_object On
     region us-west-2
     net.keepalive on
     net.connect_timeout 10
     net.keepalive_max_recycle 2000
     net.keepalive_idle_timeout 30

