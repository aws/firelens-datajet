{
  "template": {
    "s3_materials_arn": "arn:aws:s3:::aws-for-fluent-bit-stability-test-collections/bravo-alpha-t4/yield/3-2fe899e07ee27365ecddb54b35f0c7f3f1f4505cf8a1d48e0c3002d19886e093",
    "s3_materials_key_base": "bravo-alpha-t4/yield/3-2fe899e07ee27365ecddb54b35f0c7f3f1f4505cf8a1d48e0c3002d19886e093",
    "s3_materials_bucket": "aws-for-fluent-bit-stability-test-collections",
    "test_revision": "3-2fe899",
    "test_name": "bravo-alpha-t4",
    "test_name_unique": "bravo-alpha-t4-r3-2fe899",
    "test_collection_name": "bravo",
    "test_suite_name": "bravo-alpha",
    "test_suite_timestamp": "1",
    "image-aws-for-fluent-bit": "210752607241.dkr.ecr.us-west-2.amazonaws.com/amazon/aws-for-fluent-bit:2.31.2-tls-options",
    "image-datajet": "210752607241.dkr.ecr.us-west-2.amazonaws.com/datajet:s3-client",
    "image-mock": "210752607241.dkr.ecr.us-west-2.amazonaws.com/mock-mountebank:0.0.1",
    "cluster": "Bravo",
    "n_tasks": 1,
    "segfault": false,
    "s3-log-destination": "aws-for-fluent-bit-stability-test-sink",
    "s3-corefile-destination": "aws-for-fluent-bit-stability-test-corefiles",
    "workers": "1",
    "keepalive": "on",
    "recycle": "2000",
    "idle_timeout": "30",
    "connect_timeout": "10",
    "n_cw": 20,
    "n_s3": 20,
    "input_plugin": "tcp",
    "output_plugin": "both",
    "commands-aws-for-fluent-bit": [
      "/init/fluent_bit_init_process",
      "chmod +x /init/invoke_fluent_bit.sh",
      "cd /cores",
      "export RANDOM_ID_VALUE=$(($RANDOM%99999))$(($RANDOM%99999))$(($RANDOM%99999))",
      "echo 'RANDOM_ID is set to $RANDOM_ID_VALUE'",
      "env RANDOM_ID=$RANDOM_ID_VALUE /init/invoke_fluent_bit.sh",
      "echo $RANDOM_ID",
      "ls /cores",
      "mv `ls /cores` ${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.core",
      "zip /cores/core.zip *",
      "aws s3 cp /cores/core.zip s3://${S3_BUCKET}/${S3_KEY_PREFIX}/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.zip",
      "aws s3 cp /cores/core.zip s3://${S3_BUCKET}/bravo/bravo-alpha-t1/error-reports-all/cores/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.zip",
      "aws s3 cp /cores/core.zip s3://${S3_BUCKET}/bravo/bravo-alpha-t1/error-reports-by-date/`date +%Y-%m-%d`/cores/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.zip",
      "aws s3 cp /cores/core.zip s3://${S3_ALTERNATE_LOCATION_PREFIX}-${RANDOM_ID_VALUE}.zip",
      "gdb -batch -ex 'thread apply all bt full' -ex 'quit' '/fluent-bit/bin/fluent-bit' ${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.core > '/cores/stacktrace'",
      "aws s3 cp /cores/stacktrace s3://${S3_BUCKET}/${S3_KEY_PREFIX}/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.stacktrace",
      "aws s3 cp /cores/stacktrace s3://${S3_BUCKET}/bravo/bravo-alpha-t1/error-reports-all/stacktraces/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.stacktrace",
      "aws s3 cp /cores/stacktrace s3://${S3_BUCKET}/bravo/bravo-alpha-t1/error-reports-by-date/`date +%Y-%m-%d`/stacktraces/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.stacktraces",
      "aws s3 cp /cores/stacktrace s3://${S3_ALTERNATE_LOCATION_PREFIX}-${RANDOM_ID_VALUE}.stacktrace",
      "aws s3 cp /fluent-bit/bin/fluent-bit s3://${S3_BUCKET}/${S3_KEY_PREFIX}/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.executable",
      "aws s3 cp /fluent-bit/bin/fluent-bit s3://${S3_BUCKET}/bravo/bravo-alpha-t1/error-reports-all/executables/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.executable",
      "aws s3 cp /fluent-bit/bin/fluent-bit s3://${S3_BUCKET}/bravo/bravo-alpha-t1/error-reports-by-date/`date +%Y-%m-%d`/executables/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.executable",
      "aws s3 cp /fluent-bit/bin/fluent-bit s3://${S3_BUCKET}/${S3_KEY_PREFIX}/${S3_FILE_NAME_PREFIX}-${RANDOM_ID_VALUE}.executable",
      "aws s3 cp /fluent-bit/bin/fluent-bit s3://${S3_ALTERNATE_LOCATION_PREFIX}-${RANDOM_ID_VALUE}.executable"
    ]
  },
  "cluster": "Bravo",
  "n_tasks": 1
}